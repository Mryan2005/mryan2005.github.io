const ContributorsJS={requestAPI:(o,s,l)=>{let i=5;!function n(){new Promise((r,t)=>{let e=0,a=setTimeout(()=>{0===e&&(e=2,a=null,t("请求超时"),0==i)&&l()},5e3);fetch(o).then(function(t){if(2!==e&&(clearTimeout(a),r(t),a=null,e=1),t.ok)return t.json();throw new Error("Network response was not ok.")}).then(function(t){i=0,s(t)}).catch(function(t){0<i?(--i,setTimeout(()=>{n()},5e3)):l()})})}()},layout:n=>{const r=n.el;ContributorsJS.requestAPI(n.api,function(t){r.querySelector(".loading-wrap").remove();var a="";(t||[]).forEach((t,r)=>{var e=(e=(e=(e='<div class="user-card">')+'<a class="card-link" target="_blank" rel="external noopener noreferrer"'+(' href="'+t.html_url+'">'))+('<img alt="'+t.login+'" src="'+(t.avatar_url||n.avatar)+'" onerror="errorImgAvatar(this)">'))+('<div class="name"><span>'+t.login+"</span></div>");a+=e=e+"</a>"+"</div>"}),r.querySelector(".group-body").innerHTML=a},function(){try{r.querySelector(".loading-wrap svg").remove(),r.querySelector(".loading-wrap p").innerText("加载失败，请稍后重试。")}catch(t){}})},start:()=>{for(var t=document.getElementsByClassName("contributorsjs-wrap"),r=0;r<t.length;r++){var e,a=t[r],n=a.getAttribute("api");null!=n&&((e=new Object).el=a,e.api=n,e.class=a.getAttribute("class"),e.avatar=volantis.GLOBAL_CONFIG.default.avatar,ContributorsJS.layout(e))}}};ContributorsJS.start(),document.addEventListener("pjax:complete",function(){ContributorsJS.start()});