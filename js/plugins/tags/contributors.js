const ContributorsJS={requestAPI:(o,a,s)=>{let i=5;function l(){return new Promise((e,t)=>{let r=0;let n=setTimeout(()=>{if(r===0){r=2;n=null;t("请求超时");if(i==0){s()}}},5e3);fetch(o).then(function(t){if(r!==2){clearTimeout(n);e(t);n=null;r=1}if(t.ok){return t.json()}throw new Error("Network response was not ok.")}).then(function(t){i=0;a(t)}).catch(function(t){if(i>0){i-=1;setTimeout(()=>{l()},5e3)}else{s()}})})}l()},layout:o=>{const e=o.el;ContributorsJS.requestAPI(o.api,function(t){e.querySelector(".loading-wrap").remove();var n="";(t||[]).forEach((t,e)=>{var r='<div class="user-card">';r+='<a class="card-link" target="_blank" rel="external noopener noreferrer"';r+=' href="'+t.html_url+'">';r+='<img alt="'+t.login+'" src="'+(t.avatar_url||o.avatar)+'" onerror="errorImgAvatar(this)">';r+='<div class="name"><span>'+t.login+"</span></div>";r+="</a>";r+="</div>";n+=r});e.querySelector(".group-body").innerHTML=n},function(){try{e.querySelector(".loading-wrap svg").remove();e.querySelector(".loading-wrap p").innerText("加载失败，请稍后重试。")}catch(t){}})},start:()=>{const t=document.getElementsByClassName("contributorsjs-wrap");for(var e=0;e<t.length;e++){const n=t[e];const o=n.getAttribute("api");if(o==null){continue}var r=new Object;r.el=n;r.api=o;r.class=n.getAttribute("class");r.avatar=volantis.GLOBAL_CONFIG.default.avatar;ContributorsJS.layout(r)}}};ContributorsJS.start();document.addEventListener("pjax:complete",function(){ContributorsJS.start()});